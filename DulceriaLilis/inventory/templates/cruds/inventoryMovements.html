{% extends 'base.html' %}

{% block title %}Registrar Movimiento{% endblock %}

{% block content %}
<div class="container">

    <div class="stat-cards-container">
      <div class="stat-card">
        <h4>Movimientos (hoy)</h4>
        <p class="value">0</p>
      </div>
      <div class="stat-card">
        <h4>Stock total demo</h4>
        <p class="value">8</p>
      </div>
      <div class="stat-card">
        <h4>Productos únicos</h4>
        <p class="value">1</p>
      </div>
    </div>

    <div class="widget">
      <div class="widget-header">
        <h2 class="widget-title">Registrar movimiento</h2>
      </div>
      <div class="tabs">
        <div class="tab active">1. Datos del movimiento</div>
        <div class="tab">2. Control avanzado</div>
        <div class="tab">3. Referencias/Observaciones</div>
      </div>
      <div class="widget-content">
        <form>
          <div class="form-section-title">1. Datos del movimiento</div>
          <div class="form-grid" style="grid-template-columns: 1fr 1fr 1fr;">
            <div class="form-group">
              <label for="fecha">fecha</label>
              <input type="text" id="fecha" value="11-09-2025 :: 15:18" readonly class="form-control">
            </div>
            <div class="form-group">
              <label for="tipo">tipo</label>
              <select id="tipo" class="form-select">
                <option>Seleccione...</option>
                <option>Ingreso</option>
                <option>Salida</option>
                <option>Ajuste</option>
              </select>
            </div>
            <div class="form-group">
              <label for="cantidad">cantidad</label>
              <input type="number" id="cantidad" placeholder="0" class="form-control">
            </div>
          </div>
          <div class="form-grid" style="grid-template-columns: 1fr 1fr 1fr; margin-top: 20px;">
            <div class="form-group">
              <label for="producto">producto</label>
              <input type="text" id="producto" value="SKU-0001" class="form-control">
            </div>
            <div class="form-group">
              <label for="proveedor">proveedor</label>
              <input type="text" id="proveedor" placeholder="RUT o razón social" class="form-control">
            </div>
            <div class="form-group">
              <label for="bodega">bodega</label>
              <input type="text" id="bodega" value="BOD-CENTRAL" class="form-control">
            </div>
          </div>

          <div class="form-section-title">2. Control avanzado</div>
          <div class="form-grid" style="grid-template-columns: 1fr 1fr 1fr;">
            <div class="form-group">
              <label>manejo por lotes</label>
              <input type="checkbox" id="manejo_lotes"> <span>(no)</span>
            </div>
            <div class="form-group">
              <label>manejo por series</label>
              <input type="checkbox" id="manejo_series"> <span>(no)</span>
            </div>
            <div class="form-group">
              <label>perecible (vencimiento)</label>
              <input type="checkbox" id="perecible"> <span>(no)</span>
            </div>

            <div class="form-group">
              <label for="lote">lote</label>
              <input type="text" id="lote" value="L-2025-001" class="form-control">
            </div>
            <div class="form-group">
              <label for="serie">serie</label>
              <input type="text" id="serie" value="SN123456789" class="form-control">
            </div>
            <div class="form-group">
              <label for="fecha_vencimiento">fecha_vencimiento</label>
              <input type="text" id="fecha_vencimiento" placeholder="dd-mm-aaaa" class="form-control">
            </div>
            <p class="form-footer-note">Las banderas (lote/serie/vencimiento) normalmente vienen desde la ficha del
              producto; aquí se permiten por demo.</p>
          </div>

          <div class="form-section-title">3. Referencias/Observaciones</div>
          <div class="form-grid" style="grid-template-columns: 1fr 1fr;">
            <div class="form-group">
              <label for="doc_referencia">doc_referencia</label>
              <input type="text" id="doc_referencia" value="OC-123 / FAC-456 / GUIA-789" class="form-control">
            </div>
            <div class="form-group">
              <label for="motivo">motivo <span>(ajustes/devoluciones)</span></label>
              <input type="text" id="motivo" value="Diferencia inventario, devolución cliente, etc." class="form-control">
            </div>
          </div>
          <div class="form-grid" style="margin-top: 20px;">
            <div class="form-group col-span-full">
              <label for="observaciones">observaciones</label>
              <textarea id="observaciones" class="form-control">Notas de operación, recibo, daño, etc.</textarea>
            </div>
          </div>

          <div class="form-actions">
            <button type="button" class="btn btn-link">Limpiar</button>
            <button type="submit" class="btn btn-primary">Guardar movimiento</button>
          </div>
        </form>
      </div>
    </div>

    <div class="widget">
      <div class="widget-header">
        <h2 class="widget-title">Movimientos</h2>
      </div>
      <div class="widget-content">
        <div class="toolbar">
          <div class="toolbar-left">
            <input type="text" class="toolbar-input search-input form-control" placeholder="Buscar por SKU, pro...">
            <select class="toolbar-input form-select">
              <option>Tipo: Todos</option>
              <option>Ingreso</option>
              <option>Salida</option>
            </select>
            <input type="text" class="toolbar-input date-input form-control" placeholder="dd-mm-aaaa">
            <input type="text" class="toolbar-input date-input form-control" placeholder="dd-mm-aaaa">
          </div>
          <div class="toolbar-right">
            <button type="button" class="btn btn-secondary">Exportar a Excel</button>
          </div>
        </div>

        <div class="table-wrapper">
          <table class="table">
            <thead>
              <tr>
                <th>Fecha</th>
                <th>Tipo</th>
                <th>SKU</th>
                <th>Proveedor</th>
                <th>Bodega</th>
                <th>Cantidad</th>
                <th>Lote</th>
                <th>Serie</th>
                <th>Vence</th>
                <th>Doc Ref</th>
                <th>Acciones</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>2025-09-10 09:30</td>
                <td><span class="status-badge status-ingreso">ingreso</span></td>
                <td>SKU-0001</td>
                <td>76.543.210-5</td>
                <td>BOD-CENTRAL</td>
                <td>+10</td>
                <td>—</td>
                <td>—</td>
                <td>—</td>
                <td>OC-101</td>
                <td class="actions">
                  <button class="btn btn-edit btn-sm">Editar</button>
                  <button class="btn btn-danger btn-sm">Eliminar</button>
                </td>
              </tr>
              <tr>
                <td>2025-09-10 15:00</td>
                <td><span class="status-badge status-salida">salida</span></td>
                <td>SKU-0001</td>
                <td>—</td>
                <td>BOD-CENTRAL</td>
                <td>-2</td>
                <td>—</td>
                <td>—</td>
                <td>—</td>
                <td>FAC-900</td>
                <td class="actions">
                  <button class="btn btn-edit btn-sm">Editar</button>
                  <button class="btn btn-danger btn-sm">Eliminar</button>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
</div>
{% endblock %}